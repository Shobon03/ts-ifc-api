---
title: Solu√ß√£o de Problemas
description: Resolva erros e problemas comuns do sistema
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Steps, Step } from 'fumadocs-ui/components/steps';

## Problemas de Upload

### Arquivo n√£o faz upload

**Sintomas**:
- Bot√£o de upload n√£o responde
- Barra de progresso n√£o aparece
- Mensagem "Failed to upload"

**Solu√ß√µes**:

1. **Verifique o tamanho**: M√°ximo 100MB
   ```bash
   # No Windows, clique com bot√£o direito ‚Üí Propriedades
   # Veja o tamanho em MB
   ```

2. **Confirme o formato**:
   - Revit: apenas `.rvt`
   - Archicad: apenas `.pln`
   - IFC: apenas `.ifc`

3. **Teste a conex√£o**: Recarregue a p√°gina (F5)

4. **Limpe o cache do navegador**:
   - Chrome: Ctrl+Shift+Del
   - Firefox: Ctrl+Shift+Del
   - Edge: Ctrl+Shift+Del

5. **Tente outro navegador**: Chrome, Firefox ou Edge

### Upload muito lento

**Causas**:
- Conex√£o de internet lenta
- Arquivo muito grande
- Servidor ocupado

**Solu√ß√µes**:
- Aguarde pacientemente (pode demorar v√°rios minutos)
- Use conex√£o mais r√°pida se dispon√≠vel
- Reduza tamanho do arquivo:
  - Remova views e sheets desnecess√°rios
  - Purgue elementos n√£o utilizados
  - Exporte apenas parte do modelo

### Erro "File too large"

**Solu√ß√£o**: Arquivo excede 100MB

1. **Otimize o modelo**:
   - Revit: Manage ‚Üí Purge Unused
   - Archicad: File ‚Üí File Special ‚Üí Compact Project

2. **Divida o projeto**:
   - Separe em m√∫ltiplos arquivos
   - Converta cada parte separadamente

3. **Remova elementos pesados**:
   - Topografia detalhada
   - Vegeta√ß√£o complexa
   - Entorno desnecess√°rio

---

## Problemas de Conex√£o WebSocket

### WebSocket Desconectado (üî¥)

**Sintomas**:
- Indicador vermelho no header
- Mensagem "Desconectado"
- Progresso n√£o atualiza em tempo real
- Convers√µes n√£o iniciam

**Causas**:
- Backend Node.js n√£o est√° rodando
- Firewall bloqueando porta 3000
- Conex√£o de internet inst√°vel
- Navegador bloqueando WebSocket

**Solu√ß√µes**:

<Steps>

<Step>

### Verificar Backend

```bash
# Abra em outra aba:
http://localhost:3000/health

# Deve mostrar:
{
  "status": "ok",
  "services": { ... }
}

# Se n√£o abrir: backend est√° offline
```

</Step>

<Step>

### Recarregar P√°gina

```
1. Pressione F5 ou Ctrl+R
2. Aguarde reconex√£o autom√°tica (at√© 5 tentativas)
3. Indicador deve ficar üü° Amarelo (Reconectando)
4. Depois deve ficar üü¢ Verde (Conectado)
```

</Step>

<Step>

### Verificar Console do Navegador

```
1. Pressione F12 (DevTools)
2. V√° para aba Console
3. Procure mensagens de erro WebSocket
4. Exemplos de erros:
   - "WebSocket connection failed"
   - "ERR_CONNECTION_REFUSED"
   - "WebSocket closed with code 1006"
```

</Step>

<Step>

### Verificar Firewall

Se voc√™ √© administrador do sistema:

**Windows:**
```
1. Painel de Controle ‚Üí Firewall do Windows
2. Configura√ß√µes Avan√ßadas ‚Üí Regras de Entrada
3. Verifique se porta 3000 (TCP) est√° permitida
4. Crie regra se necess√°rio
```

**Linux:**
```bash
sudo ufw allow 3000/tcp
```

</Step>

</Steps>

<Callout type="info">
  O sistema tenta **reconectar automaticamente** at√© 5 vezes, com intervalo de 3 segundos entre tentativas. Se falhar todas as tentativas, voc√™ ver√° üî¥ Desconectado permanentemente.
</Callout>

### WebSocket Reconectando Continuamente (üü°)

**Sintomas**:
- Indicador amarelo piscando
- Mensagem "Reconectando (N/5)"
- Nunca consegue conectar

**Causas**:
- Backend reiniciando constantemente
- Problema de rede intermitente
- Proxy/VPN interferindo

**Solu√ß√µes**:

1. **Aguarde 30 segundos**: Pode ser restart tempor√°rio do backend

2. **Desabilite VPN/Proxy**: Podem interferir em WebSocket

3. **Troque de rede**: Teste em outra conex√£o (ex: hotspot m√≥vel)

4. **Verifique logs do backend** (admin):
   ```bash
   # Backend Node.js
   pnpm dev:backend
   # Procure por erros no console
   ```

---

## Problemas com Status de Plugins

### Plugin Revit Desconectado (üî¥)

**Sintomas**:
- Indicador mostra: üî¥ **Revit: Desconectado**
- Convers√µes IFC ‚Üí Revit n√£o funcionam
- Mensagem de erro ao tentar converter

**Causas**:
- Revit n√£o est√° aberto
- Plugin n√£o est√° instalado
- Plugin n√£o inicializou
- WebSocket do plugin na porta errada

**Solu√ß√µes** (para administrador do servidor):

<Steps>

<Step>

### Verificar Revit Aberto

```
1. Revit 2025.4 deve estar aberto
2. Plugin deve aparecer no menu Add-Ins
3. Clique no bot√£o "IFC Converter" para iniciar
```

</Step>

<Step>

### Verificar Plugin Instalado

```
Caminho de instala√ß√£o:
C:\ProgramData\Autodesk\Revit\Addins\2025\IfcToRevitConverter\

Arquivos necess√°rios:
- IfcToRevitConverter.dll
- IfcToRevitConverter.addin
- websocket-sharp.dll
- Newtonsoft.Json.dll
```

</Step>

<Step>

### Verificar Porta WebSocket

```
Plugin Revit usa porta 8082

# Verificar se est√° em uso:
netstat -an | findstr "8082"

# Deve mostrar:
TCP    0.0.0.0:8082    0.0.0.0:0    LISTENING
```

</Step>

<Step>

### Testar Conex√£o Manual

```bash
# Instalar wscat:
npm install -g wscat

# Conectar ao plugin:
wscat -c ws://localhost:8082

# Deve mostrar:
Connected (press CTRL+C to quit)

# Enviar ping:
> {"command":"ping"}

# Deve receber:
< {"type":"pong"}
```

</Step>

</Steps>

<Callout type="warn">
  O plugin Revit roda **localmente no servidor**, n√£o no computador do usu√°rio. Apenas administradores do sistema podem configur√°-lo.
</Callout>

### Plugin Archicad Desconectado (üî¥)

**Sintomas**:
- Indicador mostra: üî¥ **Archicad: Desconectado**
- Convers√µes Archicad ‚Üí IFC n√£o funcionam
- Convers√µes IFC ‚Üí Archicad n√£o funcionam

**Causas**:
- Archicad n√£o est√° aberto
- Plugin C++ n√£o est√° instalado
- Servidor Python n√£o est√° rodando
- Plugin n√£o inicializou

**Solu√ß√µes** (para administrador do servidor):

<Steps>

<Step>

### Verificar Archicad Aberto

```
1. Archicad 28.4 deve estar aberto
2. V√° para: Options ‚Üí Add-On Manager
3. Procure por "ArchiCAD-IFC-Plugin"
4. Deve estar marcado como ativo
```

</Step>

<Step>

### Verificar Plugin Instalado

```
Caminho de instala√ß√£o:
C:\Program Files\GRAPHISOFT\ARCHICAD 28\Add-Ons\ArchiCAD-IFC-Plugin.apx

Se n√£o existir, compile e instale o plugin:
Ver: /docs/plugins/archicad
```

</Step>

<Step>

### Verificar Servidor Python

```bash
# Verificar se Python est√° rodando:
curl http://localhost:5000/health

# Deve retornar:
{
  "status": "ok",
  "archicad": "connected"
}

# Se n√£o responder, inicie o servidor:
cd backend/python
source venv/bin/activate  # Windows: venv\Scripts\activate
python src/server.py
```

</Step>

</Steps>

<Callout type="info">
  O plugin Archicad est√° em desenvolvimento (~65% completo) e ainda n√£o usa WebSocket. Ele se comunica via HTTP atrav√©s do servidor Python.
</Callout>

---

## Problemas de Convers√£o

### Convers√£o trava ou n√£o inicia

**Sintomas**:
- Barra de progresso para em algum ponto
- Nenhuma atualiza√ß√£o por v√°rios minutos
- Mensagem de timeout

**Solu√ß√µes**:

1. **Aguarde pelo menos 10 minutos**: Arquivos grandes demoram

2. **Verifique status WebSocket**:
   - Deve estar üü¢ Verde (Connected)
   - Se üî¥ Vermelho: problema de conex√£o

3. **Recarregue e tente novamente**:
   ```typescript
   F5 ou Ctrl+R para recarregar
   Selecione arquivo novamente
   Clique em Convert
   ```

4. **Verifique o arquivo original**:
   - Abra no software nativo
   - Salve novamente
   - Tente reconverter

### Erro "Conversion failed"

**Causas poss√≠veis**:

#### Para Revit ‚Üí IFC

```typescript
// Problemas comuns com Forge
{
  "Credenciais inv√°lidas": "Forge API keys expiradas",
  "Modelo corrupto": "Arquivo .rvt com erros",
  "Vers√£o incompat√≠vel": "Revit muito antigo (< 2018)",
  "Timeout": "Arquivo muito complexo"
}
```

**Solu√ß√µes**:
1. Verifique credenciais Forge (admin)
2. Abra e salve novamente no Revit
3. Use Revit 2018 ou superior
4. Simplifique o modelo

#### Para Archicad ‚Üí IFC

```typescript
// Problemas com plugin Archicad
{
  "Servidor Python offline": "Servi√ßo n√£o est√° rodando",
  "Archicad n√£o instalado": "Falta software no servidor",
  "Plugin n√£o carregado": "Plugin n√£o inicializou",
  "Arquivo .pln corrupto": "Modelo com erros"
}
```

**Solu√ß√µes**:
1. Verifique status do servidor Python (admin)
2. Confirme Archicad instalado (admin)
3. Reinicie plugin Archicad (admin)
4. Teste arquivo no Archicad primeiro

#### Para IFC ‚Üí Revit

```typescript
// Problemas com plugin Revit
{
  "WebSocket desconectado": "Plugin n√£o est√° ativo",
  "Revit fechado": "Software n√£o est√° rodando",
  "IFC inv√°lido": "Arquivo IFC com erros",
  "Template incompat√≠vel": "Template Revit incorreto"
}
```

**Solu√ß√µes**:
1. Verifique üü¢ Status WebSocket conectado
2. Inicie Revit com plugin (admin)
3. Valide IFC antes de converter
4. Use template padr√£o Revit

### Convers√£o completa mas arquivo n√£o baixa

**Sintomas**:
- Progresso chega em 100%
- Mensagem de sucesso
- Mas download n√£o inicia

**Solu√ß√µes**:

1. **Verifique bloqueio de downloads**:
   - Chrome: √≠cone de download na barra de endere√ßo
   - Clique e permita downloads

2. **Espa√ßo em disco**:
   - Verifique se h√° espa√ßo na pasta Downloads
   - Libere espa√ßo se necess√°rio

3. **Pasta de downloads**:
   - Verifique configura√ß√µes do navegador
   - Confirme caminho da pasta

4. **Tente baixar manualmente**:
   - Alguns navegadores mostram link
   - Clique com bot√£o direito ‚Üí Salvar como

---

## Problemas de WebSocket

### Status sempre vermelho (Disconnected)

**Causas**:
- Plugin n√£o est√° rodando
- Firewall bloqueando WebSocket
- Porta incorreta

**Solu√ß√µes**:

1. **Verifique plugin ativo**:
   - Revit: deve ter janela do plugin aberta
   - Plugin deve mostrar "WebSocket Server Running on port 8080"

2. **Firewall**:
   - Windows: permitir porta 8080
   - Antiv√≠rus: adicionar exce√ß√£o

3. **Porta em uso**:
   - Outro programa usando porta 8080
   - Feche outros aplicativos
   - Ou configure porta diferente

4. **Reinicie o plugin**:
   - Feche Revit
   - Abra novamente
   - Carregue plugin

### Conex√£o cai durante convers√£o

**Sintomas**:
- Come√ßa conectado (üü¢)
- Durante convers√£o vira vermelho (üî¥)
- Convers√£o falha

**Solu√ß√µes**:

1. **Conex√£o de rede**:
   - Verifique se internet est√° est√°vel
   - Use conex√£o cabeada se poss√≠vel
   - Evite WiFi inst√°vel

2. **Timeout**:
   - Plugin pode ter travado
   - Reinicie Revit e plugin
   - Tente arquivo menor primeiro

3. **Configura√ß√µes de energia**:
   - Desative modo economia (notebook)
   - Evite hiberna√ß√£o durante convers√£o

---

## Problemas de Valida√ß√£o

### Valida√ß√£o reporta muitos erros

**Cen√°rio**: IFC gerado tem centenas de erros

**An√°lise**:

1. **Separe por tipo**:
   - Erros cr√≠ticos (Syntax/Schema): DEVEM ser corrigidos
   - Avisos (Warnings): podem ser aceit√°veis

2. **Verifique fonte**:
   - Se IFC gerado pelo sistema: bug poss√≠vel
   - Se IFC recebido de terceiros: problema na exporta√ß√£o deles

**A√ß√µes**:

Para IFC gerado pelo sistema:
```typescript
workflow = {
  step1: "Documente todos os erros",
  step2: "Teste modelo original no BIM",
  step3: "Se original OK: reporte bug com detalhes",
  step4: "Se original tem erro: corrija l√° e reexporte"
}
```

Para IFC recebido:
```typescript
workflow = {
  step1: "Gere relat√≥rio de valida√ß√£o",
  step2: "Envie para quem gerou o IFC",
  step3: "Solicite corre√ß√£o e reexporta√ß√£o",
  step4: "Valide novamente ap√≥s receber corrigido"
}
```

### Arquivo v√°lido mas n√£o abre no software

**Paradoxo**: Validador diz "‚úÖ Valid" mas software BIM n√£o abre

**Explica√ß√£o**:
- Valida√ß√£o verifica conformidade IFC
- Software pode ter requisitos extras
- Ou bugs no importador do software

**Solu√ß√µes**:

1. **Verifique vers√£o schema**:
   ```typescript
   // Alguns softwares s√≥ suportam schemas espec√≠ficos
   softwareCompatibility = {
     "Software A": "IFC2x3 somente",
     "Software B": "IFC4 preferido",
     "Software C": "IFC2x3 e IFC4"
   }
   ```

2. **Tente diferentes MVDs**:
   - Coordination View 2.0
   - Reference View
   - Design Transfer View

3. **Use conversor intermedi√°rio**:
   - IfcOpenShell
   - SimpleBIM
   - Solibri

4. **Reporte ao desenvolvedor do software BIM**:
   - IFC v√°lido DEVE abrir
   - Se n√£o abre, √© bug do software

---

## Problemas de Performance

### Sistema muito lento

**Sintomas**:
- Interface trava
- A√ß√µes demoram muito
- Navegador congelando

**Solu√ß√µes**:

1. **Feche outras abas**: Libere mem√≥ria RAM

2. **Use navegador moderno atualizado**:
   - Chrome/Edge vers√£o mais recente
   - Firefox atualizado

3. **Desative extens√µes**:
   - Modo an√¥nimo/privado
   - Ou desabilite extens√µes temporariamente

4. **Limpe cache**:
   ```bash
   Chrome: chrome://settings/clearBrowserData
   Firefox: about:preferences#privacy
   ```

5. **Aumente recursos do computador**:
   - Feche programas desnecess√°rios
   - Reinicie computador
   - Considere mais RAM se persistir

---

## Problemas Espec√≠ficos do Plugin

### Plugin Revit n√£o carrega

**Sintomas**:
- Revit abre normalmente
- Plugin n√£o aparece
- WebSocket n√£o conecta

**Solu√ß√µes**:

1. **Verifique instala√ß√£o**:
   ```
   C:\ProgramData\Autodesk\Revit\Addins\2025\
   Deve ter: IfcToRevitConverter.addin
   ```

2. **Permiss√µes**:
   - Bot√£o direito no .dll ‚Üí Propriedades
   - Desbloquear se houver aviso de seguran√ßa

3. **Logs do Revit**:
   ```
   %APPDATA%\Autodesk\Revit\Autodesk Revit 2025\Journals\
   Procure por erros relacionados ao plugin
   ```

4. **Reinstale plugin**:
   - Copie novamente arquivos
   - Reinicie Revit

### Plugin Archicad n√£o funciona

**Sintomas**:
- Archicad abre
- Menu do plugin n√£o aparece
- Convers√µes falham

**Solu√ß√µes**:

1. **Verifique API DevKit**:
   ```
   C:\Program Files\Graphisoft\API Development Kit 28.4001\
   Deve existir e estar completo
   ```

2. **Compila√ß√£o**:
   - Plugin deve ser compilado para Archicad 28.4
   - Vers√µes diferentes n√£o funcionam

3. **Logs Python**:
   ```bash
   # No servidor, verifique logs
   cd backend/python
   tail -f logs/archicad_plugin.log
   ```

4. **Reinstale Archicad** (√∫ltimo recurso):
   - Desinstale completamente
   - Reinstale vers√£o 28.4
   - Reinstale plugin

---

## Mensagens de Erro Espec√≠ficas

### "CORS error"

**Causa**: Problema de configura√ß√£o do servidor

**Solu√ß√£o**: Admin deve verificar:
```typescript
// backend/node/src/app.ts
fastify.register(cors, {
  origin: '*', // ou dom√≠nio espec√≠fico
  credentials: true
})
```

### "Rate limit exceeded"

**Causa**: Muitas requisi√ß√µes em pouco tempo

**Solu√ß√£o**:
- Aguarde 1 minuto
- N√£o fa√ßa m√∫ltiplos uploads simult√¢neos
- Admin pode ajustar limite se leg√≠timo

### "Invalid file format"

**Causa**: Arquivo n√£o √© do tipo esperado

**Solu√ß√£o**:
- Verifique extens√£o do arquivo
- Confirme que n√£o est√° renomeado (ex: .txt renomeado para .rvt)
- Use arquivo genu√≠no do software BIM

### "Authentication failed" (Forge)

**Causa**: Credenciais Forge inv√°lidas

**Solu√ß√£o Admin**:
```typescript
// Verificar vari√°veis de ambiente
process.env.FORGE_CLIENT_ID
process.env.FORGE_CLIENT_SECRET
// Devem estar corretas e ativas
```

---

## Checklist de Debug

Quando algo n√£o funciona, siga esta ordem:

<Steps>

<Step>

### 1. Verifica√ß√µes B√°sicas
- [ ] Internet conectada?
- [ ] Navegador atualizado?
- [ ] Arquivo no formato correto?
- [ ] Tamanho < 100MB?

</Step>

<Step>

### 2. Verifica√ß√µes de Interface
- [ ] P√°gina carregou completamente?
- [ ] WebSocket status correto?
- [ ] Mensagens de erro aparecem?
- [ ] Console do navegador (F12) mostra erros?

</Step>

<Step>

### 3. Verifica√ß√µes de Arquivo
- [ ] Arquivo abre no software nativo?
- [ ] Arquivo n√£o est√° corrompido?
- [ ] Sem senha/prote√ß√£o?
- [ ] Caminho sem caracteres especiais?

</Step>

<Step>

### 4. Tentativas de Resolu√ß√£o
- [ ] Recarregar p√°gina (F5)
- [ ] Limpar cache
- [ ] Tentar outro navegador
- [ ] Tentar arquivo diferente
- [ ] Aguardar e tentar novamente

</Step>

<Step>

### 5. Pedir Ajuda
Se nada funcionou:
- [ ] Anote mensagens de erro exatas
- [ ] Tire screenshots
- [ ] Documente passos reproduzir
- [ ] Contate suporte com detalhes

</Step>

</Steps>

---

## Contato para Suporte

Se os problemas persistirem:

1. **Documenta√ß√£o**: Releia as se√ß√µes relevantes deste guia

2. **GitHub Issues**: [github.com/Shobon03/ts-ifc-api/issues](https://github.com/Shobon03/ts-ifc-api/issues)
   - Procure issue similar
   - Se n√£o existir, crie nova com:
     - Descri√ß√£o do problema
     - Passos para reproduzir
     - Screenshots
     - Mensagens de erro
     - Informa√ß√µes do sistema

3. **Desenvolvedor**: Matheus Piovezan Teixeira
   - Email: (conforme fornecido)

4. **Informa√ß√µes a incluir**:
   ```typescript
   const bugReport = {
     sistema: "Windows/Linux/Mac + vers√£o",
     navegador: "Chrome/Firefox/Edge + vers√£o",
     tipoConversao: "Revit‚ÜíIFC / Archicad‚ÜíIFC / IFC‚ÜíRevit",
     tamanhoArquivo: "XX MB",
     mensagemErro: "Texto exato do erro",
     passos: "1. Fiz X, 2. Depois Y, 3. Erro em Z",
     comportamentoEsperado: "Deveria ter...",
     comportamentoReal: "Mas aconteceu..."
   }
   ```

---

## Pr√≥ximos Passos

<Cards>
  <Card
    title="Voltar ao Guia do Usu√°rio"
    description="Retorne √† p√°gina principal do guia"
    href="/docs/user-guide/introduction"
  />
  <Card
    title="Guia do Desenvolvedor"
    description="Aprenda a configurar e debugar o sistema"
    href="/docs/developer-guide/architecture"
  />
  <Card
    title="Configurar Plugins"
    description="Instru√ß√µes para desenvolvedores configurarem plugins"
    href="/docs/plugins/revit"
  />
</Cards>
